<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ: Git Avanzado (Contenido Opcional)</title>
    <link rel="stylesheet" href="style.css">
</head>

<body class="container">
    <p><a href="index.html" class="back-to-index">Volver al √≠ndice</a></p>
    <h2>FAQ: Git Avanzado (Contenido Opcional)</h2>

        <h4 id="ci-overleaf">Ejemplo: desplegar bibliograf√≠a a Overleaf desde CI (GitHub Actions)</h4>
        <p>Si tu repo es el origen can√≥nico (por ejemplo en GitHub) puedes automatizar el despliegue de <code>references.bib</code> a Overleaf con un flujo CI que haga push al Git remoto de Overleaf. <strong>Importante:</strong> nunca guardes credenciales en el repositorio ‚Äî usa secretos.</p>

        <h5>Resumen del flujo</h5>
        <ol>
                <li>BBT exporta <code>references.bib</code> a tu repo (o a un lugar que CI pueda leer).</li>
                <li>Un workflow de GitHub Actions detecta cambios en <code>references.bib</code>.</li>
                <li>El workflow hace commit (si es necesario) y hace push al remote de Overleaf usando una URL segura almacenada en un secreto.</li>
        </ol>

        <h5>Requisitos y secretos recomendados</h5>
        <ul>
                <li><code>OVERLEAF_GIT_URL</code>: la URL de git de Overleaf con credenciales embebidas (ej. <code>https://&lt;token&gt;@git.overleaf.com/xxxx/yyyy</code>) ‚Äî **guardada como secreto**.</li>
                <li>Opcionalmente puedes usar <code>OVERLEAF_USER</code> y <code>OVERLEAF_PASSWORD</code> en lugar de un token embebido, pero sigue siendo cr√≠tico almacenarlos como secretos.</li>
                <li>Configura el disparador del workflow para ejecutarse solo cuando cambie <code>references.bib</code>, o manualmente con <code>workflow_dispatch</code>.</li>
        </ul>

        <h5>Ejemplo de workflow (GitHub Actions)</h5>
        <p>Coloca este archivo en <code>.github/workflows/deploy-references-to-overleaf.yml</code>. Es un ejemplo m√≠nimo ‚Äî ad√°ptalo a tu proyecto y a tu pol√≠tica de ramas.</p>
        <pre><code class="language-yaml">name: Deploy references to Overleaf

    <div style="background-color: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 4px;">
        <p><strong>‚ö†Ô∏è Nota importante sobre este FAQ:</strong></p>
        <p>Este documento contiene informaci√≥n <strong>opcional y avanzada</strong> sobre el uso de Git con Overleaf desde terminal.</p>
        <p><strong>Para este curso de LaTeX en Overleaf:</strong></p>
        <ul>
            <li>‚úÖ <strong>NO necesitas aprender Git</strong> - Overleaf tiene History y Track Changes integrados que son m√°s f√°ciles de usar</li>
            <li>‚úÖ Este FAQ es solo para usuarios que quieren control de versiones avanzado desde terminal</li>
            <li>‚úÖ La mayor√≠a de doctorandos trabajar√°n perfectamente sin usar Git directamente</li>
        </ul>
    </div>

    <div style="background-color: #e3f2fd; border-left: 4px solid #2196f3; padding: 15px; margin: 20px 0; border-radius: 4px;">
        <p><strong>üí° ¬øQuieres aprender Git en profundidad?</strong></p>
        <p>Si est√°s interesado en usar Git desde terminal y aprender sobre instalaci√≥n local de LaTeX, consulta la <strong>versi√≥n completa del curso</strong> que incluye Git como tema principal:</p>
        <p>üîó <a href="https://a105.ugr.es/latex" target="_blank" style="font-weight: bold;">https://a105.ugr.es/latex</a></p>
        <p>Esa versi√≥n del curso cubre:</p>
        <ul>
            <li>Instalaci√≥n local de LaTeX (TeX Live, MiKTeX)</li>
            <li>Git desde cero con ejemplos pr√°cticos</li>
            <li>Editores locales (TeXstudio, VS Code)</li>
            <li>Gesti√≥n de bibliograf√≠a con JabRef</li>
        </ul>
    </div>

    <h3>1. ¬øC√≥mo clonar un proyecto de Overleaf a mi ordenador?</h3>
    <p><strong>Pregunta:</strong> Quiero descargar mi proyecto de Overleaf y trabajar localmente con Git.</p>
    <p><strong>Respuesta:</strong></p>
    <ol>
        <li>Abre tu proyecto en Overleaf</li>
        <li>Haz clic en el men√∫ (‚â°) a la izquierda</li>
        <li>Busca la opci√≥n <strong>"Git"</strong> o <strong>"Git & GitHub"</strong></li>
        <li>Copia la URL que genera (algo como: <code>https://git.overleaf.com/uniqueid/projectname</code>)</li>
        <li>En tu terminal, ejecuta:</li>
    </ol>

        <h5>Notas de seguridad y pr√°cticas</h5>
        <ul>
                <li>No publiques la URL con token en el repositorio: usa siempre secretos (GitHub Secrets / GitLab CI variables).</li>
                <li>Protege la rama destino (main) para evitar pushes autom√°ticos desde forks no deseados y revisa qui√©n puede actualizar los secrets.</li>
                <li>Considera restringir el workflow a ejecuciones manuales (<code>workflow_dispatch</code>) si prefieres revisi√≥n humana antes de publicar a Overleaf.</li>
                <li>En lugar de empujar directamente la rama principal, puedes usar una rama intermedia revisada por Pull Request para validar los cambios antes de desplegar.</li>
        </ul>
    <pre><code>git clone https://git.overleaf.com/uniqueid/projectname
cd projectname</code></pre>
    <p>¬°Ahora tienes una copia local de tu proyecto!</p>

    <h3>2. ¬øC√≥mo hacer push de cambios locales a Overleaf?</h3>
    <p><strong>Pregunta:</strong> He trabajado en mi ordenador y quiero que los cambios aparezcan en Overleaf.</p>
    <p><strong>Respuesta:</strong></p>
    <pre><code>git add .
git commit -m "Descripci√≥n de tus cambios"
git push origin main</code></pre>
    <p><strong>Explicaci√≥n:</strong></p>
    <ul>
        <li><code>git add .</code> - A√±ade todos los archivos modificados</li>
        <li><code>git commit -m "..."</code> - Crea un commit con descripci√≥n</li>
        <li><code>git push origin main</code> - Sube los cambios a Overleaf</li>
    </ul>
    <p>Recarga Overleaf en el navegador y ver√°s los cambios reflejados.</p>

    <h3>3. ¬øC√≥mo traer cambios de Overleaf a mi ordenador?</h3>
    <p><strong>Pregunta:</strong> Mi compa√±ero edit√≥ el documento en Overleaf y quiero bajar sus cambios.</p>
    <p><strong>Respuesta:</strong></p>
    <pre><code>git pull origin main</code></pre>
    <p><strong>¬øQu√© hace?</strong></p>
    <ul>
        <li>Descarga los cambios m√°s recientes desde Overleaf</li>
        <li>Los integra en tu copia local</li>
        <li>Si no hay conflictos, es autom√°tico</li>
    </ul>

    <h3>4. ¬øQu√© hago si hay un conflicto de Git?</h3>
    <p><strong>Pregunta:</strong> Git me dice "merge conflict" cuando hago pull. ¬øQu√© hago?</p>
    <p><strong>Respuesta:</strong></p>
    <p>Un conflicto ocurre cuando t√∫ y otro usuario editaron la misma l√≠nea. Pasos:</p>
    <ol>
        <li>Abre el archivo conflictivo en tu editor</li>
        <li>Busca marcas como:</li>
    </ol>
    <pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Tu c√≥digo aqu√≠
=======
C√≥digo de tu compa√±ero aqu√≠
&gt;&gt;&gt;&gt;&gt;&gt;&gt; origin/main</code></pre>
    <ol>
        <li>Decide qu√© c√≥digo mantener, elimina las marcas</li>
        <li>Guarda el archivo</li>
        <li>Ejecuta:</li>
    </ol>
    <pre><code>git add .
git commit -m "Resolvido conflicto de merge"
git push origin main</code></pre>

    <h3>5. ¬øC√≥mo ver el historial de cambios desde terminal?</h3>
    <p><strong>Pregunta:</strong> Quiero ver qu√© cambios se hicieron y cu√°ndo.</p>
    <p><strong>Respuesta:</strong></p>
    <pre><code>git log --oneline</code></pre>
    <p>Te mostrar√° algo como:</p>
    <pre><code>3a5f2b1 A√±adido cap√≠tulo 3
2c4e1a2 Corregidas referencias
1b3d2c1 Proyecto inicial</code></pre>

    <p>Para ver detalles de un commit espec√≠fico:</p>
    <pre><code>git show 3a5f2b1</code></pre>

    <h3>6. ¬øC√≥mo restaurar una versi√≥n anterior de un archivo?</h3>
    <p><strong>Pregunta:</strong> Met√≠ la pata en un archivo. ¬øPuedo volver a una versi√≥n anterior?</p>
    <p><strong>Respuesta:</strong></p>
    <pre><code>git log --oneline archivo.tex
git checkout commit_id -- archivo.tex</code></pre>
    <p><strong>Ejemplo real:</strong></p>
    <pre><code>git checkout 3a5f2b1 -- main.tex</code></pre>
    <p>Esto restaura main.tex a como estaba en el commit 3a5f2b1.</p>

    <h3>7. ¬øPuedo usar ramas (branches) en Overleaf?</h3>
    <p><strong>Pregunta:</strong> ¬øC√≥mo creo una rama para trabajar sin afectar el proyecto principal?</p>
    <p><strong>Respuesta:</strong></p>
    <p>S√≠, pero es m√°s √∫til si trabajas desde terminal. Pasos:</p>
    <pre><code>git checkout -b feature/nueva-caracteristica</code></pre>
    <p>Ahora trabajas en tu rama. Cuando termines:</p>
    <pre><code>git add .
git commit -m "Descripci√≥n del cambio"
git push origin feature/nueva-caracteristica</code></pre>
    <p>En GitHub (o tu plataforma), creas un Pull Request para fusionar con main.</p>
    <p><strong>‚ö†Ô∏è Nota:</strong> En Overleaf Web, solo ves la rama main. Para ramas, necesitas terminal.</p>

    <h3>8. ¬øC√≥mo sincronizar mi proyecto local con GitHub?</h3>
    <p><strong>Pregunta:</strong> Quiero que mi proyecto est√© tanto en Overleaf como en GitHub.</p>
    <p><strong>Respuesta:</strong></p>
    <p>Primero, crea un repositorio en GitHub. Luego, en tu terminal:</p>
    <pre><code>git remote add github https://github.com/usuario/nombre-repo.git
git push github main</code></pre>
    <p>Ahora tienes dos remotos:</p>
    <ul>
        <li><code>origin</code> ‚Üí Overleaf</li>
        <li><code>github</code> ‚Üí GitHub</li>
    </ul>
    <p>Para sincronizar:</p>
    <pre><code>git push origin main   # Sube a Overleaf
git push github main   # Sube a GitHub</code></pre>

    <h3>9. ¬øC√≥mo ignorar archivos que no quiero versionar?</h3>
    <p><strong>Pregunta:</strong> Hay archivos generados (PDFs, .aux) que no quiero que Git siga.</p>
    <p><strong>Respuesta:</strong></p>
    <p>Crea un archivo <code>.gitignore</code> en la ra√≠z de tu proyecto:</p>
    <pre><code>*.pdf
*.aux
*.log
*.out
*.synctex.gz
.DS_Store
build/</code></pre>
    <p>Git ignorar√° autom√°ticamente esos archivos en commits.</p>

    <h3>10. ¬øC√≥mo colaborar sin conflictos?</h3>
    <p><strong>Pregunta:</strong> Trabajamos varios en el mismo documento. ¬øC√≥mo evitar conflictos?</p>
    <p><strong>Respuesta - Mejores pr√°cticas:</strong></p>
    <ol>
        <li><strong>Comunica cambios:</strong> Avisa qu√© secci√≥n vas a editar</li>
        <li><strong>Estructura modular:</strong> Cada persona en un archivo diferente:
            <ul>
                <li><code>cap1.tex</code> - Persona A</li>
                <li><code>cap2.tex</code> - Persona B</li>
                <li><code>cap3.tex</code> - Persona C</li>
                <li><code>main.tex</code> - Importa todos con \input{cap1}</li>
            </ul>
        </li>
        <li><strong>Frecuentes pulls:</strong> Actual√≠zate a menudo: <code>git pull origin main</code></li>
        <li><strong>Commits descriptivos:</strong> Di exactamente qu√© cambiaste</li>
        <li><strong>Usa History de Overleaf:</strong> Para cambios peque√±os, usa el History integrado</li>
    </ol>

    <h3>11. ¬øQu√© diferencia hay entre Git en Overleaf y en terminal?</h3>
    <table border="1" style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <thead>
            <tr style="background-color: #f5f5f5;">
                <th style="padding: 10px;">Aspecto</th>
                <th style="padding: 10px;">Overleaf History</th>
                <th style="padding: 10px;">Git Terminal</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td style="padding: 10px;">Facilidad de uso</td>
                <td style="padding: 10px;">‚úÖ Muy f√°cil (clicks)</td>
                <td style="padding: 10px;">‚ö†Ô∏è Requiere terminal</td>
            </tr>
            <tr style="background-color: #f9f9f9;">
                <td style="padding: 10px;">Accesibilidad</td>
                <td style="padding: 10px;">‚úÖ Desde navegador</td>
                <td style="padding: 10px;">‚úÖ Terminal local</td>
            </tr>
            <tr>
                <td style="padding: 10px;">Ramas (branches)</td>
                <td style="padding: 10px;">‚ùå No disponible</td>
                <td style="padding: 10px;">‚úÖ S√≠, m√∫ltiples</td>
            </tr>
            <tr style="background-color: #f9f9f9;">
                <td style="padding: 10px;">Sincronizaci√≥n GitHub</td>
                <td style="padding: 10px;">‚ùå No directa</td>
                <td style="padding: 10px;">‚úÖ F√°cil</td>
            </tr>
            <tr>
                <td style="padding: 10px;">Autom√°tico en tiempo real</td>
                <td style="padding: 10px;">‚úÖ Cada cambio se guarda</td>
                <td style="padding: 10px;">‚ùå Manual (commits)</td>
            </tr>
            <tr style="background-color: #f9f9f9;">
                <td style="padding: 10px;">Para equipos grandes</td>
                <td style="padding: 10px;">‚úÖ Bueno</td>
                <td style="padding: 10px;">‚úÖ‚úÖ Mejor</td>
            </tr>
        </tbody>
    </table>

    <h3>12. Decisi√≥n: ¬øCu√°ndo usar qu√©?</h3>
    <p><strong>Usa History de Overleaf cuando:</strong></p>
    <ul>
        <li>‚úÖ Trabajas en equipo peque√±o (1-3 personas)</li>
        <li>‚úÖ Todos edit√°is en Overleaf directamente</li>
        <li>‚úÖ No necesitas ramas ni flujo de trabajo complejo</li>
        <li>‚úÖ Quieres algo simple y r√°pido</li>
    </ul>

    <p><strong>Usa Git + Terminal cuando:</strong></p>
    <ul>
        <li>‚úÖ Trabajas con equipo grande (4+ personas)</li>
        <li>‚úÖ Necesitas ramas y Pull Requests</li>
        <li>‚úÖ Quieres sincronizar con GitHub</li>
        <li>‚úÖ Trabajas localmente en editor diferente a Overleaf</li>
        <li>‚úÖ Necesitas control de versiones profesional</li>
    </ul>

    <h3>13. Errores comunes y c√≥mo evitarlos</h3>
    <p><strong>‚ùå Error: "Permission denied" al clonar</strong></p>
    <ul>
        <li>‚úÖ Soluci√≥n: Usa el enlace Git de Overleaf (https), no SSH</li>
        <li>‚úÖ O configura tu SSH key en Overleaf</li>
    </ul>

    <p><strong>‚ùå Error: "fatal: not a git repository"</strong></p>
    <ul>
        <li>‚úÖ Soluci√≥n: Aseg√∫rate de estar en el directorio correcto</li>
        <li>‚úÖ Ejecuta: <code>pwd</code> para verificar ubicaci√≥n</li>
    </ul>

    <p><strong>‚ùå Error: "merge conflict" sin salida clara</strong></p>
    <ul>
        <li>‚úÖ Soluci√≥n: Usa un editor con fusi√≥n visual (VS Code, Sublime)</li>
        <li>‚úÖ O contacta a tu compa√±ero para resolver manualmente</li>
    </ul>

    <p><strong>‚ùå Error: "rejected - non-fast-forward"</strong></p>
    <ul>
        <li>‚úÖ Soluci√≥n: Primero haz <code>git pull origin main</code></li>
        <li>‚úÖ Resuelve conflictos si los hay</li>
        <li>‚úÖ Luego haz <code>git push origin main</code></li>
    </ul>

    <h3>14. Receta r√°pida: Flujo de trabajo est√°ndar</h3>
    <pre><code># Al empezar el d√≠a:
git pull origin main

# Haz cambios en tus archivos...

# Al terminar:
git status              # Ver qu√© cambi√≥
git add .               # A√±adir cambios
git commit -m "Tu mensaje"  # Guardar con descripci√≥n
git push origin main    # Subir a Overleaf

# Si hay problema:
git log --oneline       # Ver historial
git pull origin main    # Actualizar
# (resolver conflictos si los hay)
git push origin main</code></pre>

    <h3>15. Recursos y documentaci√≥n</h3>
    <ul>
        <li><a href="https://www.overleaf.com/learn/how-to/Using_Git_in_Overleaf" target="_blank" rel="noopener">Documentaci√≥n oficial de Git en Overleaf</a></li>
        <li><a href="https://git-scm.com/doc" target="_blank" rel="noopener">Documentaci√≥n oficial de Git</a></li>
        <li><a href="https://github.com/git-tips/tips" target="_blank" rel="noopener">Git Tips & Tricks</a></li>
        <li><a href="https://a105.ugr.es/latex" target="_blank" rel="noopener">Curso completo de LaTeX con Git (versi√≥n local)</a></li>
        <li><a href="clase1.html">Clase 1: Introducci√≥n a LaTeX en Overleaf</a> - Contenido principal del curso (sin Git)</li>
    </ul>

    <hr>
    <h3 id="bbt-git-overleaf">16. Better BibTeX + Git ‚Üí Overleaf (flujo recomendado para tesis)</h3>
    <p>Para trabajos largos (tesis, proyectos colaborativos) recomendamos mantener la bibliograf√≠a centralizada y reproducible usando <strong>Better BibTeX (BBT)</strong> para exportar autom√°ticamente un fichero local (por ejemplo <code>references.bib</code>) y mantener dicho fichero bajo control de versiones con <code>git</code>. Aqu√≠ tienes el flujo detallado, con buenas pr√°cticas y ejemplos:</p>

    <h4>Configurar Better BibTeX</h4>
    <ol>
        <li>Instala BBT y en <strong>Preferences ‚Üí Better BibTeX</strong> selecciona el formato (recomendado: <code>biblatex</code> si usas <code>biber</code>).</li>
        <li>En la colecci√≥n de la tesis, habilita <em>Automatic export</em> y configura la ruta de salida hacia la ra√≠z de tu proyecto local (ej. <code>/home/usuario/tesis/references.bib</code>), as√≠ el fichero se actualizar√° autom√°ticamente.</li>
        <li>Define un formato de claves estable (ej. <code>[auth][year][shorttitle]</code>) para evitar colisiones y claves inestables.</li>
    </ol>

    <h4>Mantener <code>references.bib</code> en el repo</h4>
    <ol>
        <li>A√±ade <code>references.bib</code> al repo y usa <code>.gitignore</code> para evitar subir adjuntos innecesarios (PDFs, etc.). Ejemplo:
        <pre><code>*.pdf
data/**/attachments/**
</code></pre></li>
        <li>Antes de push, siempre compila localmente para comprobar que las claves y el <code>.bib</code> est√°n correctos.</li>
    </ol>

    <h4>Remote Git ‚Äî Overleaf</h4>
    <ol>
        <li>Obt√©n la URL Git del proyecto (Menu ‚Üí Git en Overleaf) y a√±√°dela como remote (<code>overleaf</code>), luego push:</li>
        <pre><code>git remote add overleaf https://git.overleaf.com/your/project/id
git push overleaf main</code></pre>
        <li>Si usas GitHub/GitLab como origen principal, considera desplegar a Overleaf desde CI para centralizar la autor√≠a.</li>
    </ol>

    <h4>Buenas pr√°cticas colaborativas</h4>
    <ul>
        <li>Evita que varias personas editen <code>references.bib</code> simult√°neamente en Overleaf; idealmente exporta desde Zotero local y centraliza cambios en la rama principal tras revisi√≥n.</li>
        <li>Usa ramas y Pull Requests para cambios bibliogr√°ficos importantes y revisiones por el director.</li>
        <li>Documenta en README c√≥mo funciona el flujo: BBT export ‚Üí commit ‚Üí push ‚Üí Overleaf.</li>
    </ul>

    <h4>Automatizaci√≥n</h4>
    <p>Opciones para automatizar pushes al exportar:</p>
    <ol>
        <li>Usar un script post-export en BBT que haga commit y push (ejemplo de script Linux abajo).</li>
        <li>Usar un watcher (inotifywait / fswatch) que ejecute el script al detectar cambios.</li>
        <li>Desplegar desde CI (GitHub Actions) hacia Overleaf; guarda credenciales como secretos.</li>
    </ol>
    <pre><code>#!/usr/bin/env bash
cd /home/usuario/tesis
git add references.bib
if git diff --staged --quiet; then
  echo "Sin cambios en references.bib"
  exit 0
fi
git commit -m "BBT auto-export: $(date -Iseconds)"
git push overleaf main
</code></pre>

    <h4>Seguridad</h4>
    <ul>
        <li>Almacena tokens y credenciales como secretos (no en el repo).</li>
        <li>Revisa el contenido del <code>.bib</code> antes de publicar para evitar fugas de datos o URLs privadas.</li>
    </ul>

    <h4>Enlaces</h4>
    <ul>
        <li>Overleaf: <a href="https://www.overleaf.com/learn/how-to/Using_Git_with_Overleaf" target="_blank" rel="noopener">Using Git with Overleaf</a></li>
        <li>Better BibTeX (BBT): <a href="https://retorque.re/zotero-better-bibtex/" target="_blank" rel="noopener">BBT docs</a></li>
    </ul>

    <hr>
    <p><strong>¬øPreguntas?</strong> Revisa <a href="quickstart.html">Quickstart</a> o <a href="index.html">vuelve al √≠ndice</a></p>

    <p><a href="index.html" class="back-to-index">Volver al √≠ndice</a></p>
</body>

</html>
